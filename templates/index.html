{% extends 'layout.html' %}

{% block internal_css %}
    .recommended_songs, .recommended_albums, .recommended_playlists{
        display: flex;
        flex-wrap: wrap;
        flex-direction: row;
        justify-content: left;
        align-items: left;
        margin: 5px 20px 50px 20px;
    }
    .song, .album, .playlist{
        width: 200px;
        height: 200px;
        margin: 20px 20px 20px 20px;
        display: flex;
        flex-direction: column;}
{% endblock %}

{% block content %}
    <nav class="navbar">
        <a href="/">Symphoria</a>
        <form action="/search" method="POST">
            {% if session['search'] %}
                <input type="text" name="search" value="{{ session['search'] }}">
            {% else %}
                <input type="text" name="search" value="">
            {% endif %}
            <button type="submit"><img src="static/magnifying-glass-solid.svg" alt=""></button>
        </form>
        <a href="/profile">Profile</a>
        {% if Admin.query.filter_by(id=session['user_id']).first() %}
            <a href="/admin">Admin</a>
        {% endif %}
        <a href="/logout">Logout</a>
    </nav>

    <div class="info">
        <h1>Recommended Tracks</h1>
        <div class="recommended_songs">
            {% for song in songs %}
                <a href="/song/{{ song.id }}">
                    <div class="song">
                        <img src="{{ url_for('static', filename='uploads/song_thumbnails/' + song.thumbnail) }}" alt="">
                        <div class="song-info">
                            <p>{{ song.name }}</p>
                            <p>{{ song.artist.name }}</p>
                        </div>
                    </div>
                </a>
            {% endfor %}
        </div>

        <h1>Recommended Albums</h1>
        <div class="recommended_albums">
            {% for album in albums %}
                <a href="/album/{{ album.id }}">
                    <div class="album">
                        <img src="{{ url_for('static', filename='uploads/album_thumbnails/' + album.thumbnail) }}" alt="">
                        <div class="album-info">
                            <p>{{ album.name }}</p>
                            <p>{{ album.artist.name }}</p>
                        </div>
                    </div>
                </a>
            {% endfor %}
        </div>

        <h1>Recommended Playlists</h1>
        <div class="recommended_playlists">
            {% for playlist in playlists %}
                <a href="/my_playlists/{{ playlist.id }}">
                    <div class="playlist">
                        <img src="{{ url_for('static', filename='playlist_thumbnails/' + 'random.png') }}" alt="">
                        <div class="playlist-info">
                            <p>{{ playlist.name }}</p>
                        </div>
                    </div>
                </a>
            {% endfor %}
        </div>
    </div>
{% endblock %}
